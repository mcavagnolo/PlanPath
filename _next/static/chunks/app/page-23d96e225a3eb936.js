(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{175:(e,t,a)=>{Promise.resolve().then(a.bind(a,4319))},4319:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(5155),r=a(2115),l=a(5772),n=a(7646),i=a(3100),o=a(9058),c=a(9674);async function d(e){try{let t=await e.arrayBuffer(),s=await Promise.all([a.e(592),a.e(682)]).then(a.t.bind(a,3815,23));s.GlobalWorkerOptions.workerSrc||(s.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js");let r=await s.getDocument({data:t}).promise,l=await r.getPage(1),n=l.getViewport({scale:1.5}),i=document.createElement("canvas"),o=i.getContext("2d");if(!o)throw Error("Canvas context not available");return i.height=n.height,i.width=n.width,await l.render({canvasContext:o,viewport:n}).promise,i.toDataURL("image/jpeg")}catch(e){throw console.error("Error converting PDF to image:",e),Error("Failed to convert PDF plan to image.")}}async function m(e,t){try{let s=await Promise.all([a.e(592),a.e(682)]).then(a.t.bind(a,3815,23));s.GlobalWorkerOptions.workerSrc||(s.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js");let r=await s.getDocument({data:e}).promise,l="",n=0,i=Math.min(r.numPages,50);for(let e=1;e<=i&&!(n>=2e4);e++){let a=await r.getPage(e),s=(await a.getTextContent()).items.map(e=>e.str).join(" "),i=s.toLowerCase();t.some(e=>i.includes(e.toLowerCase()))&&(l+=`--- Page ${e} (Relevant) ---
${s}
`,n+=s.length)}if(!l)for(let e=1;e<=Math.min(r.numPages,3);e++){let t=await r.getPage(e),a=(await t.getTextContent()).items.map(e=>e.str).join(" ");l+=`--- Page ${e} ---
${a}
`}return l}catch(e){return console.error("Error parsing PDF:",e),"Error parsing PDF document."}}async function u(e,t){try{let a=(0,o.KR)(c.IG,e),s=await (0,o._w)(a),r="";for(let a of s.items){if(r.length>3e4)break;try{let s=await (0,o.q5)(a),l="";(l=a.name.toLowerCase().endsWith(".pdf")?await m(s,t):(l=new TextDecoder().decode(s)).substring(0,1e4)).length>0&&(r+=`

=== DOCUMENT: ${a.name} (from ${e}) ===
${l}
`)}catch(e){console.warn(`Failed to read file ${a.name}:`,e)}}return r}catch(t){return console.warn(`Error listing files in ${e}:`,t),""}}async function h(e){let t=[];for(let a of[{type:"State",path:`knowledge-base/State/${e.state}`},{type:"County",path:`knowledge-base/County/${e.county}`},{type:"City",path:`knowledge-base/City/${e.city}`}])if(!a.path.endsWith("/"))try{if(!a.path.split("/")[2])continue;let e=(0,o.KR)(c.IG,a.path);(await (0,o._w)(e)).items.forEach(e=>{t.push({name:e.name,path:e.fullPath,type:a.type})})}catch(e){console.log(`No documents found for ${a.type} at ${a.path}`)}return t}async function x(e,t,a,s,r,l){if(!r)throw Error("OpenAI API Key is required.");let n=new i.Ay({apiKey:r,dangerouslyAllowBrowser:!0});try{let r,i="";if("application/pdf"===e.type)console.log("Converting PDF plan to image..."),i=await d(e);else i=await new Promise((t,a)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>a(e)});let h=s?`Jurisdiction: State of ${s.state}, County of ${s.county}, City of ${s.city}.`:"",x=(r=a.toLowerCase().split(/\s+/).filter(e=>e.length>2),Array.from(new Set(["code","regulation","compliance","violation","requirement","standard","section","chapter","table","figure",...r,"height","setback","area","width","depth","egress","stair","fire","safety","zone","district","use","occupancy","parking","access","material","construction"])));if(console.log("Using keywords for filtering:",x),l){console.log(`Fetching selected document: ${l}`);try{let e=(0,o.KR)(c.IG,l),t=await (0,o.q5)(e),a="";a=l.toLowerCase().endsWith(".pdf")?await m(t,x):(a=new TextDecoder().decode(t)).substring(0,2e4),h+=`

REFERENCE BUILDING CODES (Selected Document: ${e.name}):
${a}`}catch(e){console.error("Error reading selected document:",e),h+=`

(Error reading selected document. Using general knowledge.)`}}else if(s){console.log("Fetching jurisdiction documents...");let e=s.state?await u(`knowledge-base/State/${s.state}`,x):"",t=s.county?await u(`knowledge-base/County/${s.county}`,x):"",a=s.city?await u(`knowledge-base/City/${s.city}`,x):"";e||t||a?h+=`

REFERENCE BUILDING CODES:
${e}
${t}
${a}`:h+=`

(No specific code documents found in Knowledge Base. Using general knowledge.)`}let p=(await n.chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:`You are an expert building code compliance auditor. 
          Analyze the provided floor plan image against building codes for the specified location and building type.
          
          ${h}

          Building Type: ${a}
          Location: ${t}

          Identify specific code violations or potential conflicts.
          
          Return ONLY a JSON object with a "conflicts" array. 
          Each conflict object must have:
          - id: string (unique)
          - description: string (clear explanation of the violation)
          - severity: "high" | "medium" | "low"
          - codeReference: string (cite the specific code section, e.g., "IBC 1005.1")
          
          If no conflicts are found, return an empty array.
          Err on the side of caution (false positives are better than missed violations).`},{role:"user",content:[{type:"text",text:`Location: ${t}
Building Type: ${a}`},{type:"image_url",image_url:{url:i}}]}],response_format:{type:"json_object"},max_tokens:4096})).choices[0].message.content;if(!p)return[];return JSON.parse(p).conflicts||[]}catch(e){throw console.error("AI Analysis Error:",e),Error("Failed to analyze plan with AI.")}}function p({onAnalyze:e,isAnalyzing:t}){let[a,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)("residential"),[m,u]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[j,w]=(0,r.useState)([]),[v,N]=(0,r.useState)(""),[k,C]=(0,r.useState)(!1),[P,S]=(0,r.useState)({states:[],counties:[],cities:[]});return(0,r.useEffect)(()=>{(0,n.c)().then(S)},[]),(0,r.useEffect)(()=>{x||g||y?(C(!0),h({state:x,county:g,city:y}).then(e=>{w(e),N("")}).catch(e=>console.error("Error fetching docs:",e)).finally(()=>C(!1))):w([])},[x,g,y]),(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault(),a&&i&&m?e(a,i,c,{state:x,county:g,city:y},m,v):m||alert("Please enter your OpenAI API Key.")},className:"space-y-6 p-6 bg-white shadow-lg rounded-xl border border-gray-100",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OpenAI API Key"}),(0,s.jsx)("input",{type:"password",value:m,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"sk-...",required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your key is used only for this session and is never stored on our servers."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name / Address"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 123 Main St, El Segundo",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building Type"}),(0,s.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"residential",children:"Residential"}),(0,s.jsx)("option",{value:"commercial",children:"Commercial"}),(0,s.jsx)("option",{value:"mixed-use",children:"Mixed Use"}),(0,s.jsx)("option",{value:"industrial",children:"Industrial"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,s.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select State"}),P.states.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"County"}),(0,s.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select County"}),P.counties.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,s.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select City"}),P.cities.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(x||g||y)&&(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Select Specific Code Document (Optional)"}),(0,s.jsx)("p",{className:"text-xs text-blue-700 mb-2",children:"Select a specific document to check against. If none is selected, we will search across all available documents (which may be less accurate for large files)."}),k?(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Loading available documents..."}):j.length>0?(0,s.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-blue-200 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm",children:[(0,s.jsx)("option",{value:"",children:"-- Check Against All (Auto-Detect) --"}),j.map(e=>(0,s.jsxs)("option",{value:e.path,children:["[",e.type,"] ",e.name]},e.path))]}):(0,s.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No specific documents found for this jurisdiction."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building Plan (PDF/Image)"}),(0,s.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors",children:(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,s.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,s.jsx)("span",{children:"Upload a file"}),(0,s.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",accept:".pdf,.png,.jpg,.jpeg",className:"sr-only",onChange:e=>{let t=e.target.files?.[0];t?t.size>0x3200000?(alert("File size exceeds 50MB limit."),e.target.value="",l(null)):l(t):l(null)},required:!0})]}),(0,s.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG up to 50MB"}),a&&(0,s.jsxs)("p",{className:"text-sm text-green-600 font-semibold mt-2",children:["Selected: ",a.name]})]})})]}),(0,s.jsx)("button",{type:"submit",disabled:!a||!i||t,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white transition-colors ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing Plans..."]}):"Analyze Plans"})]})}function g({conflicts:e}){return 0===e.length?(0,s.jsxs)("div",{className:"p-6 bg-green-50 border border-green-200 rounded-lg text-center shadow-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-green-800",children:"No Conflicts Found"}),(0,s.jsx)("p",{className:"mt-2 text-green-600",children:"The building plans appear to comply with the checked codes."})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analysis Results"}),(0,s.jsxs)("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[e.length," Potential Conflict",1!==e.length?"s":""," Found"]})]}),(0,s.jsx)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-100",children:(0,s.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,s.jsx)("li",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-1",children:"high"===e.severity?(0,s.jsx)("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):"medium"===e.severity?(0,s.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,s.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-gray-900",children:e.codeReference}),(0,s.jsxs)("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium uppercase tracking-wide ${"high"===e.severity?"bg-red-100 text-red-800":"medium"===e.severity?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[e.severity," Priority"]})]}),(0,s.jsx)("p",{className:"text-base text-gray-600 leading-relaxed",children:e.description})]})]})},e.id))})}),(0,s.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-md",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:"This tool is designed to err on the side of caution (false positives) to ensure safety. Please verify all findings with a certified professional."})})]})})]})}var f=a(8831);function y(){let[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(!0),h=async()=>{u(!0);try{let e=(0,o.KR)(c.IG,"Projects"),t=await (0,o._w)(e),a=[];for(let e of t.prefixes){let t=await (0,o._w)(e),s=[];for(let e of t.items){let t=await (0,o.qk)(e);s.push({name:e.name,url:t})}a.push({name:e.name,files:s})}d(a)}catch(e){console.error("Error fetching projects:",e)}finally{u(!1)}};(0,r.useEffect)(()=>{h()},[]);let y=async e=>{if(confirm(`Are you sure you want to delete project "${e}"? This cannot be undone.`))try{let t=(0,o.KR)(c.IG,`Projects/${e}`),a=await (0,o._w)(t);await Promise.all(a.items.map(e=>(0,o.XR)(e))),await h()}catch(e){console.error("Error deleting project:",e),alert("Failed to delete project.")}},b=async(e,a,s,r,l,i)=>{n(!0),t(null);let d=a.replace(/[^a-zA-Z0-9 -]/g,"").trim();try{let n,m,u=(0,o.KR)(c.IG,`Projects/${d}/${e.name}`);await (0,o.D)(u,e);let p=await x(e,a,s,r,l,i);t(p);let g=((n=new f.uE).setFontSize(20),n.text(`Building Code Analysis: ${a}`,20,20),n.setFontSize(12),n.text(`Date: ${new Date().toLocaleDateString()}`,20,30),m=50,p.forEach((e,t)=>{m>270&&(n.addPage(),m=20),n.setFont("helvetica","bold"),n.text(`${t+1}. ${e.codeReference}`,20,m),m+=7,n.setFont("helvetica","normal");let a=n.splitTextToSize(e.description,170);n.text(a,20,m),m+=5*a.length+5,n.setTextColor(255,0,0),n.text(`Severity: ${e.severity.toUpperCase()}`,20,m),n.setTextColor(0,0,0),m+=10}),n.output("blob")),y=new File([g],"Analysis_Results.pdf",{type:"application/pdf"}),b=(0,o.KR)(c.IG,`Projects/${d}/Analysis_Results.pdf`);await (0,o.D)(b,y),await h()}catch(e){console.error("Analysis failed:",e),alert("An error occurred during analysis.")}finally{n(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,s.jsx)("header",{className:"bg-[#fff9ea] shadow-sm z-10",children:(0,s.jsxs)("div",{className:"w-full px-6 py-4 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(l.default,{src:"/PlanPath/logos/PlanPath Logo wName (Horizontal).png",alt:"PlanPath Logo",width:200,height:50,className:"h-12 w-auto",priority:!0})}),(0,s.jsxs)("nav",{children:[(0,s.jsx)("a",{href:"/PlanPath/admin",className:"text-gray-500 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Admin"}),(0,s.jsx)("a",{href:"#",className:"text-gray-500 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Documentation"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-1 w-full",children:[(0,s.jsx)("aside",{className:"w-72 bg-white border-r border-gray-200 hidden lg:block flex-shrink-0",children:(0,s.jsxs)("div",{className:"p-6 sticky top-0",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4 border-b pb-2",children:"Projects"}),m?(0,s.jsx)("div",{className:"text-sm text-gray-500 animate-pulse",children:"Loading projects..."}):0===i.length?(0,s.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No projects yet."}):(0,s.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,s.jsxs)("details",{className:"group",children:[(0,s.jsxs)("summary",{className:"list-none cursor-pointer flex items-center justify-between text-sm font-medium text-gray-700 hover:text-blue-600 group/summary",children:[(0,s.jsx)("span",{className:"truncate flex-1 mr-2",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:t=>{t.preventDefault(),y(e.name)},className:"opacity-0 group-hover/summary:opacity-100 text-gray-400 hover:text-red-500 p-1 transition-opacity",title:"Delete Project",children:"\uD83D\uDDD1️"}),(0,s.jsx)("span",{className:"transform group-open:rotate-90 transition-transform text-gray-400",children:"▶"})]})]}),(0,s.jsx)("div",{className:"mt-2 ml-2 space-y-2 border-l-2 border-gray-100 pl-2",children:e.files.map(e=>(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-gray-600 hover:text-blue-600 hover:underline truncate",title:e.name,children:[e.name.endsWith(".pdf")?"\uD83D\uDCC4":"\uD83D\uDDBC️"," ",e.name]},e.name))})]},e.name))})]})}),(0,s.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Automated Building Code Compliance"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:"Upload your building plans to instantly identify potential conflicts with local building codes using our advanced AI analysis."})]}),(0,s.jsxs)("div",{className:"grid gap-8",children:[(0,s.jsx)("section",{children:(0,s.jsx)(p,{onAnalyze:b,isAnalyzing:a})}),e&&(0,s.jsx)("section",{className:"transition-all duration-500 ease-in-out",children:(0,s.jsx)(g,{conflicts:e})})]})]})]}),(0,s.jsx)("footer",{className:"bg-[#fff9ea] border-t border-gray-200 mt-auto",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 flex flex-col items-center",children:[(0,s.jsx)(l.default,{src:"/PlanPath/logos/PlanPath Logo.png",alt:"PlanPath Icon",width:32,height:32,className:"h-8 w-8 mb-2"}),(0,s.jsx)("p",{className:"text-center text-sm text-gray-500",children:"\xa9 2025 PlanPath. All rights reserved."})]})})]})}},7646:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});var s=a(9058),r=a(9674);let l=async()=>{let e={states:[],counties:[],cities:[]};try{let t=(0,s.KR)(r.IG,"knowledge-base/State");e.states=(await (0,s._w)(t)).prefixes.map(e=>e.name);let a=(0,s.KR)(r.IG,"knowledge-base/County");e.counties=(await (0,s._w)(a)).prefixes.map(e=>e.name);let l=(0,s.KR)(r.IG,"knowledge-base/City");e.cities=(await (0,s._w)(l)).prefixes.map(e=>e.name)}catch(e){console.error("Error fetching jurisdiction options:",e)}return e}},9674:(e,t,a)=>{"use strict";a.d(t,{IG:()=>o});var s=a(7873),r=a(4927),l=a(9058),n=a(9997);let i=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyAJI3SYJGTx7RshdX8OXG8v2T6KMKyGMLk",authDomain:"planpath-458b1.firebaseapp.com",projectId:"planpath-458b1",storageBucket:"planpath-458b1.firebasestorage.app",messagingSenderId:"272519881718",appId:"1:272519881718:web:136859f0c4d81dcf6c5dd7",measurementId:"G-T4Q4HMJMYF"});(0,r.aU)(i);let o=(0,l.c7)(i);(0,n.xI)(i)}},e=>{e.O(0,[135,204,33,930,127,260,441,794,358],()=>e(e.s=175)),_N_E=e.O()}]);